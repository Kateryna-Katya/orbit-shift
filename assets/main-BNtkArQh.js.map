{"version":3,"file":"main-BNtkArQh.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * ORBIT-SHIFT | Full Website Logic (2026)\n * Libraries used: Vanta.js (Three.js), AOS, Lucide\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // ==========================================\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (LUCIDE)\n    // ==========================================\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // ==========================================\n    // 2. 3D ЭФФЕКТ (VANTA.JS) С ОПТИМИЗАЦИЕЙ ПОД МОБИЛЬНЫЕ\n    // ==========================================\n    const initVanta = () => {\n        if (typeof VANTA !== 'undefined' && document.querySelector(\"#hero-canvas\")) {\n            const isMobile = window.innerWidth < 768;\n\n            VANTA.NET({\n                el: \"#hero-canvas\",\n                mouseControls: true,\n                touchControls: true,\n                gyroControls: false,\n                minHeight: 200.00,\n                minWidth: 200.00,\n                scale: 1.00,\n                scaleMobile: 0.5, // Снижаем разрешение на мобилках для FPS\n                color: 0x3b82f6,      // Electric Blue\n                backgroundColor: 0x0, // Black\n                points: isMobile ? 8.00 : 12.00, // Меньше точек на смартфонах\n                maxDistance: isMobile ? 18.00 : 22.00,\n                spacing: isMobile ? 18.00 : 16.00,\n                showDots: true\n            });\n        }\n    };\n    initVanta();\n\n    // ==========================================\n    // 3. МОБИЛЬНОЕ МЕНЮ И СКРОЛЛ\n    // ==========================================\n    const menuToggle = document.getElementById('menu-toggle');\n    const menuOverlay = document.getElementById('menu-overlay');\n    const body = document.body;\n    const header = document.getElementById('header');\n\n    if (menuToggle && menuOverlay) {\n        menuToggle.addEventListener('click', () => {\n            const isActive = menuOverlay.classList.toggle('active');\n            menuToggle.classList.toggle('is-active');\n            body.style.overflow = isActive ? 'hidden' : ''; // Блокируем скролл при меню\n        });\n\n        // Закрытие при клике на ссылку\n        document.querySelectorAll('.mobile-nav__link').forEach(link => {\n            link.addEventListener('click', () => {\n                menuOverlay.classList.remove('active');\n                menuToggle.classList.remove('is-active');\n                body.style.overflow = '';\n            });\n        });\n    }\n\n    // Изменение хедера при скролле\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 80) {\n            header.classList.add('scrolled');\n        } else {\n            header.classList.remove('scrolled');\n        }\n    });\n\n    // ==========================================\n    // 4. ПЛАВНЫЙ СКРОЛЛ (SMOOTH SCROLL)\n    // ==========================================\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                const headerOffset = 80;\n                const elementPosition = target.getBoundingClientRect().top;\n                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n\n                window.scrollTo({\n                    top: offsetPosition,\n                    behavior: 'smooth'\n                });\n            }\n        });\n    });\n\n    // ==========================================\n    // 5. ЛОГИКА ФОРМЫ: ТЕЛЕФОН, КАПЧА, AJAX\n    // ==========================================\n    const contactForm = document.getElementById('contact-form');\n    const phoneInput = document.getElementById('phone');\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha-input');\n    const formMessage = document.getElementById('form-message');\n\n    // Только цифры в телефоне\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n        });\n    }\n\n    // Генерация капчи\n    const n1 = Math.floor(Math.random() * 10) + 1;\n    const n2 = Math.floor(Math.random() * 10) + 1;\n    const captchaResult = n1 + n2;\n    if (captchaLabel) {\n        captchaLabel.innerText = `Подтвердите, что вы не бот: ${n1} + ${n2} =`;\n    }\n\n    // Обработка отправки\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            // Валидация капчи\n            if (parseInt(captchaInput.value) !== captchaResult) {\n                updateFormStatus(\"Ошибка: Неверный ответ капчи\", \"red\");\n                return;\n            }\n\n            updateFormStatus(\"Отправка данных...\", \"var(--color-text)\");\n\n            // Имитация AJAX\n            setTimeout(() => {\n                updateFormStatus(\"Успешно отправлено! Мы свяжемся с вами.\", \"green\");\n                contactForm.reset();\n                setTimeout(() => { formMessage.style.display = 'none'; }, 4000);\n            }, 1500);\n        });\n    }\n\n    function updateFormStatus(text, color) {\n        if (!formMessage) return;\n        formMessage.innerText = text;\n        formMessage.style.color = color;\n        formMessage.style.display = 'block';\n    }\n\n    // ==========================================\n    // 6. COOKIE POPUP\n    // ==========================================\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptCookies = document.getElementById('accept-cookies');\n\n    if (cookiePopup && !localStorage.getItem('orbit_cookies_accepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 3000);\n    }\n\n    if (acceptCookies) {\n        acceptCookies.addEventListener('click', () => {\n            localStorage.setItem('orbit_cookies_accepted', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n    // ==========================================\n    // 7. ИНИЦИАЛИЗАЦИЯ AOS\n    // ==========================================\n    if (typeof AOS !== 'undefined') {\n        AOS.init({\n            duration: 800,\n            once: true,\n            disable: 'mobile' // Опционально: отключаем на мобилках для лучшей производительности\n        });\n    }\n});"],"names":["isMobile","menuToggle","menuOverlay","body","header","isActive","link","anchor","e","target","offsetPosition","contactForm","phoneInput","captchaLabel","captchaInput","formMessage","n1","n2","captchaResult","updateFormStatus","text","color","cookiePopup","acceptCookies"],"mappings":"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"}